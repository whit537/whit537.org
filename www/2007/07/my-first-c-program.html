title = "My first C program!"
published = "2007-07-29T22:56:00.000-04:00"
updated = "2011-04-10T09:52:45.264-04:00"
^L
^L
{% extends "blag.html" %}
{% block content %}
After <a href="http://blag.whit537.org/2007/07/first-c-contribution.html">my first C contribution</a> last month, I've now written <a href="https://www.zetadev.com/passwords/index.c">my first C program</a>! It's a port <a href="https://www.zetadev.com/passwords/index.py.txt">from Python</a> of <a href="http://blag.whit537.org/2007/07/build-better-password.html">this weekend's</a> <a href="https://www.zetadev.com/passwords/">Easy Password Generator</a><a href="https://www.zetadev.com/passwords/index.py.txt"></a>.<br /><br />Both versions are implemented as a CGI, with <a href="https://www.zetadev.com/passwords/index.c.cgi">the C version</a> benchmarking about 500% faster than <a href="https://www.zetadev.com/passwords/index.py.cgi">the Python version</a>. (~100 req/sec vs. ~20). Both programs read a <code>template.html</code> file in the same directory, and interpolate a string into the <code>&lt;head&gt;</code> tag—a possible redirect to HTTPS—and two more into the <code>&lt;body&gt;</code>—a list of passwords (taken from <code>apg(1)</code>), and a Python/C version indicator.<br /><br />Working with streams in C was pretty easy, whether stdin/out, process pipes, or filesystem files. However, I struggled to convert streams into strings (aka "character arrays"): first, getting the template off the filesystem, and then parsing the <code>apg(1)</code> output. I'm particularly confused by the relationship between pointers and arrays. The crux of the matter, I think, is that "the value of [an] array is the address of element zero of the array" [<a href="http://blag.whit537.org/2006/11/i-got-k-for-my-birthday.html">K&amp;R</a>, 99], but it will take more practice to grok that. I suspect, then, that my "<code>char PAGE[1024 * 50]</code>" and "<code>int append(...)</code>" hacks look quaint at best, and that memory allocation is also going to factor into things very soon.<div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/36506138-3230591268632972326?l=blag.whit537.org' alt='' /></div>
{% end %}
