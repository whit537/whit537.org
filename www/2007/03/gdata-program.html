title = "GData \"Greetings, program!\""
published = "2007-03-31T00:47:00.000-04:00"
updated = "2011-04-10T09:52:45.325-04:00"
^L
^L
{% extends "blag.html" %}
{% block content %}
After <a href="http://tech.whit537.org/2007/03/docs-for-googles-python-gdata-client.html">installing</a> the new GData Python library, here is a <a href="http://tech2.whit537.org/2007/gdata-greetings-program.py">Greetings, program!</a> script that posts to Blogger, and here are some lessons learned:<br /><ul><li>GData (Atom?) operates primarily on <span style="font-style: italic;">feeds</span>. When the API calls for a service URI, that is the URI  of your feed, and creating new items means inserting them into that feed.<br /><br /></li><li>Start with <a href="http://tech2.whit537.org/2007/gdata-python/1.0/gdata.gdata_service.GDataService-class.html"><code>gdata_service.GDataService</code></a>. There are specialized subclasses for Base, Calendar, and Spreadsheets. There isn't one for Blogger, probably because Blogger is basically straight Atom.<br /><br /></li><li>Use the classes in <a href="http://tech2.whit537.org/2007/gdata-python/1.0/gdata.atom-module.html">the <code>atom</code> module</a> to construct blog entries, but note that the API is goofy. For example, here's how to construct an author: <code>Author(name=Name(text="Chad"))</code>. Also, an <code>Entry</code>'s <code>author</code> argument/attribute is actually a list of <code>Author</code> instances, not a single <code>Author</code>. Etc.<br /><br /></li><li>For the "Greetings, program!" script you'll need your blog's ID, which you can grab from just about any querystring when managing your blog using the Blogger dashboard. In general you can also post using a blogspot.com subdomain, or presumably a hosted custom domain.<br /><br /></li><li>If you need to see an HTML error page, capture <code>gdata_service.RequestError</code>, print <code>exc.args[0]['body']</code>   to a file, then open it in your web browser. Usually, though, such messages are too generic to be helpful.<br /><br /></li><li>As usual, RTFM (both the <a href="http://tech2.whit537.org/2007/gdata-python/1.0/">API docs</a> and the general <a href="http://code.google.com/apis/gdata/index.html">GData docs</a>), refer to the tests and <a href="http://gdata-python-client.googlecode.com/svn/trunk/samples/">samples</a> bundled with the distribution, and use the <a href="http://gdata-python-client.googlecode.com/svn/trunk/">source</a> when necessary.<br /></li></ul><br />Gdata-python-client is quirky, but once you get oriented you realize how powerful it is. Hopefully over time they/we can smooth it out with some even higher-level APIs.<div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/36506138-6696643812461992836?l=blag.whit537.org' alt='' /></div>
{% end %}
