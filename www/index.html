import datetime
import os
import re

import tree


title = "whit537.org"
byline = None
published = None
certified = True

posts = tree.db.find( { "published": {"$exists": True}}
                    , sort=[("published", -1)]
                     )

years = []
for post in posts:
    year = post['published'].split('-')[0]
    if not year:
        continue
    if not years or (year != years[-1][0]):
        years.append([year, []])
    years[-1][1].append(post)


{% extends "base.html" %}
{% block nav %}
{% end %}
{% block content %}

    <div class="midbar">
        <a href="/chad-whitacre.jpg"><img src="/chad-whitacre.128.jpg" /></a>
        <p class="caption center" style="text-align: center">
            <a href="/chad-whitacre.jpg">full size</a>
        </p>
    </div>

    <h2>Bio</h2>

    <p>Greetings, program! I'm the founder of <a
        href="https://gratipay.com/">Gratipay</a>, a way to give money every
    week to people and teams you believe in. Gratipay launched in June, 2012,
    and as of October, 2014, we have about 3,000 active users exchanging about
    $13,000 per week. Gratipay is funded on Gratipay.</p>

    <p>I run Gratipay as openly as possible, and I helped launch the <a
        href="http://www.opencompany.org/">Open Company Initiative</a> to
    associate with other companies committed to creating value through
    openness.</p>

    <p>I'm an active <a href="https://github.com/whit537"> programmer</a> and
    <a href="http://dribbble.com/whit537">designer</a>. I have strong interests
    in philosophy, religion, and music. I started a small publishing company
    called <a href="http://www.logstown.com/">Logstown</a>. I live outside
    Pittsburgh with my wife and four kids.</p>


    <h2><a href="/interviews.html">Interview Policy</a></h2>


    <h2>Blog</h2>

    {% for year, posts in years %}
        <a name="{{ year }}"></a>
        <h3 class="year">
            <a href="/#{{ year }}">#</a>{{ year }}
        </h3>
        <div class="posts">
        {% for post in posts %}
            <a href="{{ post['_id'] }}">{{ post['title'] }}</a>
        {% end %}
        &nbsp;
        </div>
    {% end %}
{% end %}
